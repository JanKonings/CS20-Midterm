<!DOCTYPE html>
<html> 
<head>  
    <title>Ocean Aid</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="header.css">
    <link rel="stylesheet" href="index.css">
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

</head>

<body>  
    <div class="navbar">
        <a href="index.html"><img src="Images/oalogo.png" alt="Ocean Aid Logo"></a>
        <h1>OceanAid</h1>
        <div class="nav-links">
            <a id="aboutUs" href="aboutUs.html">About Us</a>
            <a id="species" href="species.html">Species</a>
            <a id="pollution" href="pollution.html">Pollution</a>
            <a id="getInvolved" href="getInvolved.html">Get Involved</a>
            <a id="contact" href="contact.html">Contact</a>
            <a id="donate-link" href="donate.html">Donate</a>
            <button type="button" id="hamburger">&equiv;</button>
        </div>
    </div>

    <div class="hamburgerMenu">
        <div class="navItems">
            <a id="aboutUs" href="aboutUs.html">About Us</a>
            <a id="species" href="species.html">Species</a>
            <a id="pollution" href="pollution.html">Pollution</a>
            <a id="getInvolved" href="getInvolved.html">Get Involved</a>
            <a id="contact" href="contact.html">Contact</a>
        </div>
    </div>

    <div class="mission">
        <img src="Images/hp1.jpg" id="missionImg">
        <div class="missionStatement">
            <h2>Protecting marine life and preserving our oceans by combating waste, restoring habitats, and inspiring global action.</h2>
        </div>
    </div>

    <script>
        $(document).ready(function() {
            $("#hamburger").click(function() {
            $(".hamburgerMenu").slideToggle("fast");
            });

            $(window).resize(function() {
            if ($(window).width() > 730) {
                $(".hamburgerMenu").hide();
            }
            });

            // let images = {
            //     "img1": "Images/hp1.jpg",
            //     "img2": "Images/hp2.jpg",
            //     "img3": "Images/hp3.jpg"
            // };

            // let currIndex = 0;

            // function changeImage() {
            //     $("#missionImg").fadeTo(1500, 0, function() {
            //         currIndex = (currIndex + 1) % 3;
            //         var nextIndex = (currIndex + 1) % 3;
            //         var source = images["img" + (currIndex + 1)];
            //         var nextSource = images["img" + (nextIndex + 1)]
            //         $(".mission").css("background-image", `url(${source})`);
            //         $("#missionImg").attr("src", images["img" + (currIndex + 1)]);
            //         $("#missionImg").fadeTo(1500, 1, function() {
            //             setTimeout(changeImage, 3000);
            //         });
            //     });
            // }

            // changeImage();
            let images = {
                "img1": "Images/hp1.jpg",
                "img2": "Images/hp2.jpg",
                "img3": "Images/hp3.jpg"
            };

            let currIndex = 0;

            function changeImage() {
                $("#missionImg").fadeTo(2000, 0, function() {
                    // Update indexes
                    currIndex = (currIndex + 1) % 3;
                    var nextIndex = (currIndex + 1) % 3;

                    // Set the new mission image (the one after the background image)
                    var nextSource = images["img" + (nextIndex + 1)];
                    $("#missionImg").attr("src", nextSource);

                    // Fade in mission image
                    $("#missionImg").fadeTo(2000, 1, function() {
                        // update index to index after the new mission img
                        var nextBackgroundIndex = (nextIndex + 1) % 3;
                        var backgroundSource = images["img" + (nextIndex + 1)];
                        $(".mission").css("background-image", `url(${backgroundSource})`);

                        changeImage(); // recursively call the function to create an infinite loop
                    });
                });
            }

            changeImage(); // original call to function to start loop

        })
    </script>
</body>


</html> 